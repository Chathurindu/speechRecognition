{% extends 'base.html' %}

{% block main-body %}
  {% load static %}
    <!-- Section: intro -->
    <section id="intro" class="intro"><br><br><br><br><br><br><br><br>
      <!--<div class="intro-content paddingbot-50">-->
      <div class="container">
        <div class="row">
          <div class="col-lg-12">
            <div class="wow fadeInDown" data-wow-offset="0" data-wow-delay="0.1s">


            </div>
            <div class="wow fadeInUp" data-wow-offset="0" data-wow-delay="0.1s">

              <div class="well well-trans">
                <div class="wow fadeInRight" data-wow-delay="0.1s">

                  <h2>Patient's Information Table.</h2>
                  <input type="text" id="myInput" onkeyup="myFunction()" placeholder="Search for Child Name.." title="Type in a name">
                  <br><br>
                  <table id="myTable" style="width: 100%;">
                    <tr>
                      <th>Patient No</th>
                      <th>Child Name</th>
                      <th>Parent Name</th>
                      <th>Child Age</th>
                      <th>Phone number</th>
                      <th>More</th>
                    </tr>
                    {% for p in patientList %}
                    <tr>
                      <td>{{p.p_id}}</td>
                      <td>{{p.childName}}</td>
                      <td>{{p.parentName}}</td>
                      <td>{{p.age}}</td>
                      <td>{{p.phone}}</td>
                      <td><button type="button" class="btn btn-success float-right"><a href="/patient_profile/{{p.p_id}}" style="color: #f5f5f5">Open</a></button></td>
                    </tr>
                    {% endfor %}

                  </table>
                  <script>
                    function myFunction() {
                      var input, filter, table, tr, td, i, txtValue;
                      input = document.getElementById("myInput");
                      filter = input.value.toUpperCase();
                      table = document.getElementById("myTable");
                      tr = table.getElementsByTagName("tr");
                      for (i = 0; i < tr.length; i++) {
                        td = tr[i].getElementsByTagName("td")[1];
                        if (td) {
                          txtValue = td.textContent || td.innerText;
                          if (txtValue.toUpperCase().indexOf(filter) > -1) {
                            tr[i].style.display = "";
                          } else {
                            tr[i].style.display = "none";
                          }
                        }       
                      }
                    }
                    </script>
                  <br>
                  <button type="button" class="btn btn-info float-right"> <a href="/patient_register">+</a></button>
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                </div>
              </div>


            </div>

            <!--</div>-->
          </div>
        </div>
      </div>

    </section>

    <!-- /Section: intro -->


  </div>
        {% endblock %}